#ifndef PRIOR_H
#define PRIOR_H

#include "Arduino.h"

// localization variables
#define NUM_PX 612
#define NUM_BEACONS 4
#define NUM_ANGLES 360

#define WORLDX 800
#define WORLDY 800

#define TILEX 50
#define TILEY 50

const int NUM_X = WORLDX/TILEX + 1;
const int NUM_Y = WORLDY/TILEY + 1;

const PROGMEM  int angle2px[NUM_ANGLES] = {0,1,3,5,6,8,10,11,13,15,17,18,20,22,23,25,27,28,30,32,34,35,37,39,40,42,44,45,47,49,51,52,54,56,57,59,61,62,64,66,68,69,71,73,74,76,78,79,81,83,85,86,88,90,91,93,95,96,98,100,102,103,105,107,108,110,112,113,115,117,119,120,122,124,125,127,129,130,132,134,136,137,139,141,142,144,146,147,149,151,153,154,156,158,159,161,163,164,166,168,170,171,173,175,176,178,180,181,183,185,187,188,190,192,193,195,197,198,200,202,204,205,207,209,210,212,214,215,217,219,221,222,224,226,227,229,231,232,234,236,238,239,241,243,244,246,248,249,251,253,255,256,258,260,261,263,265,266,268,270,272,273,275,277,278,280,282,283,285,287,289,290,292,294,295,297,299,300,302,304,306,307,309,311,312,314,316,317,319,321,323,324,326,328,329,331,333,334,336,338,340,341,343,345,346,348,350,351,353,355,357,358,360,362,363,365,367,368,370,372,374,375,377,379,380,382,384,385,387,389,390,392,394,396,397,399,401,402,404,406,408,409,411,413,414,416,418,419,421,423,425,426,428,430,431,433,435,436,438,440,442,443,445,447,448,450,452,453,455,457,459,460,462,464,465,467,469,470,472,474,476,477,479,481,482,484,486,487,489,491,493,494,496,498,499,501,503,504,506,508,510,511,513,515,516,518,520,521,523,525,527,528,530,532,533,535,537,538,540,542,544,545,547,549,550,552,554,555,557,559,561,562,564,566,567,569,571,572,574,576,578,579,581,583,584,586,588,589,591,593,595,596,598,600,601,603,605,606,608,610};
const PROGMEM int px2angle[NUM_PX] = {0,1,2,2,3,3,4,5,5,6,6,7,8,8,9,9,10,10,11,12,12,13,13,14,15,15,16,16,17,18,18,19,19,20,20,21,22,22,23,23,24,25,25,26,26,27,28,28,29,29,30,30,31,32,32,33,33,34,35,35,36,36,37,38,38,39,39,40,40,41,42,42,43,43,44,45,45,46,46,47,48,48,49,49,50,50,51,52,52,53,53,54,55,55,56,56,57,58,58,59,59,60,60,61,62,62,63,63,64,65,65,66,66,67,68,68,69,69,70,70,71,72,72,73,73,74,75,75,76,76,77,78,78,79,79,80,80,81,82,82,83,83,84,85,85,86,86,87,88,88,89,89,90,90,91,92,92,93,93,94,95,95,96,96,97,98,98,99,99,100,100,101,102,102,103,103,104,105,105,106,106,107,108,108,109,109,110,110,111,112,112,113,113,114,115,115,116,116,117,118,118,119,119,120,120,121,122,122,123,123,124,125,125,126,126,127,128,128,129,129,130,130,131,132,132,133,133,134,135,135,136,136,137,138,138,139,139,140,140,141,142,142,143,143,144,145,145,146,146,147,148,148,149,149,150,150,151,152,152,153,153,154,155,155,156,156,157,158,158,159,159,160,160,161,162,162,163,163,164,165,165,166,166,167,168,168,169,169,170,170,171,172,172,173,173,174,175,175,176,176,177,178,178,179,179,180,180,181,182,182,183,183,184,185,185,186,186,187,188,188,189,189,190,190,191,192,192,193,193,194,195,195,196,196,197,198,198,199,199,200,200,201,202,202,203,203,204,205,205,206,206,207,208,208,209,209,210,210,211,212,212,213,213,214,215,215,216,216,217,218,218,219,219,220,220,221,222,222,223,223,224,225,225,226,226,227,228,228,229,229,230,230,231,232,232,233,233,234,235,235,236,236,237,238,238,239,239,240,240,241,242,242,243,243,244,245,245,246,246,247,248,248,249,249,250,250,251,252,252,253,253,254,255,255,256,256,257,258,258,259,259,260,260,261,262,262,263,263,264,265,265,266,266,267,268,268,269,269,270,270,271,272,272,273,273,274,275,275,276,276,277,278,278,279,279,280,280,281,282,282,283,283,284,285,285,286,286,287,288,288,289,289,290,290,291,292,292,293,293,294,295,295,296,296,297,298,298,299,299,300,300,301,302,302,303,303,304,305,305,306,306,307,308,308,309,309,310,310,311,312,312,313,313,314,315,315,316,316,317,318,318,319,319,320,320,321,322,322,323,323,324,325,325,326,326,327,328,328,329,329,330,330,331,332,332,333,333,334,335,335,336,336,337,338,338,339,339,340,340,341,342,342,343,343,344,345,345,346,346,347,348,348,349,349,350,350,351,352,352,353,353,354,355,355,356,356,357,358,358,359,359,0};


const PROGMEM  int locations[NUM_X][NUM_Y][NUM_BEACONS] = {{{306,0,76,153},{459,605,73,153},{459,599,70,153},{459,593,66,153},{459,588,62,153},{459,582,58,153},{459,577,54,153},{459,571,49,153},{459,566,45,153},{459,562,40,153},{459,557,34,153},{459,553,29,153},{459,549,23,153},{459,545,18,153},{459,541,12,153},{459,538,6,153},{459,535,0,153}},
{{306,0,79,159},{382,605,76,159},{413,599,73,159},{427,592,69,160},{435,586,65,161},{439,580,61,161},{442,574,57,162},{445,569,52,163},{446,564,47,165},{448,559,42,166},{449,554,37,169},{450,550,31,172},{450,546,25,176},{451,542,19,184},{452,538,12,198},{452,535,6,229},{452,532,0,306}},
{{306,0,82,165},{351,605,79,165},{382,598,76,166},{401,591,72,167},{413,584,69,169},{421,578,64,170},{427,572,60,172},{431,566,55,174},{435,561,50,176},{437,556,45,180},{439,551,39,184},{441,547,33,190},{442,542,27,198},{444,539,20,210},{445,535,13,229},{446,532,6,260},{446,529,0,306}},
{{306,0,86,171},{337,604,83,172},{363,597,80,173},{382,589,76,175},{396,582,72,176},{406,576,68,178},{413,569,63,181},{419,563,58,184},{424,558,53,187},{427,553,48,192},{430,548,42,198},{433,543,35,205},{435,539,29,215},{436,535,22,229},{438,531,14,248},{439,528,7,274},{440,525,0,306}},
{{306,0,90,176},{329,603,87,178},{351,595,83,180},{368,588,80,182},{382,580,76,184},{393,573,72,186},{401,566,67,190},{408,560,62,193},{413,554,57,198},{418,549,51,203},{421,544,45,210},{425,539,38,218},{427,535,31,229},{429,531,23,243},{431,528,16,260},{433,524,8,282},{435,521,0,306}},
{{306,0,94,182},{325,603,91,184},{343,594,88,186},{358,586,84,188},{371,578,80,191},{382,570,76,194},{391,563,71,198},{398,556,66,202},{404,550,61,207},{409,545,55,213},{413,540,48,220},{417,535,41,229},{420,531,33,240},{423,527,25,253},{425,523,17,268},{427,520,8,286},{429,517,0,306}},
{{306,0,98,187},{322,602,95,190},{337,592,92,192},{351,583,89,195},{363,574,85,198},{373,566,81,201},{382,559,76,205},{389,552,71,210},{396,546,65,215},{401,540,59,222},{406,535,52,229},{410,530,45,238},{413,526,37,248},{416,522,28,260},{419,519,19,274},{421,516,9,289},{424,513,0,306}},
{{306,0,103,193},{319,601,100,195},{333,590,97,198},{345,580,94,201},{356,571,90,204},{366,562,86,208},{375,554,81,212},{382,547,76,217},{388,541,70,223},{394,535,64,229},{399,530,57,236},{403,525,49,245},{407,521,40,255},{410,517,31,266},{413,514,21,278},{416,511,10,292},{418,508,0,306}},
{{306,0,107,198},{318,599,105,200},{329,588,102,203},{340,577,99,206},{351,566,95,210},{360,557,91,214},{368,549,87,218},{376,541,82,223},{382,535,76,229},{388,529,70,235},{393,524,62,243},{397,520,54,251},{401,516,45,260},{405,512,34,271},{408,509,23,282},{411,506,12,293},{413,504,0,306}},
{{306,0,112,202},{316,598,110,205},{327,584,107,208},{337,572,104,211},{346,561,101,215},{355,551,97,219},{363,542,93,224},{370,535,88,229},{376,529,82,235},{382,523,76,241},{387,518,69,248},{392,514,60,256},{396,510,50,265},{400,507,39,274},{403,504,27,284},{406,501,13,295},{409,499,0,306}},
{{306,0,118,207},{315,595,115,210},{325,580,113,213},{334,566,110,216},{343,554,107,220},{351,544,104,224},{358,535,100,229},{365,528,95,234},{371,521,90,240},{377,516,83,246},{382,511,76,253},{387,507,67,260},{391,504,57,268},{395,501,45,277},{398,498,31,286},{401,496,16,296},{404,493,0,306}},
{{306,0,123,211},{314,592,121,214},{323,574,119,217},{331,559,117,221},{339,546,114,225},{347,535,111,229},{354,526,107,234},{361,519,103,239},{367,513,98,244},{372,508,92,250},{377,504,85,257},{382,500,76,264},{386,497,65,272},{390,494,52,280},{394,492,37,288},{397,490,19,297},{400,488,0,306}},
{{306,0,129,215},{314,588,127,218},{322,566,125,222},{329,549,123,225},{337,535,121,229},{344,524,119,233},{351,516,115,238},{357,509,112,243},{363,504,107,248},{368,499,102,254},{373,496,95,260},{378,492,87,267},{382,490,76,274},{386,488,62,282},{389,486,45,289},{393,484,23,297},{396,482,0,306}},
{{306,0,134,219},{313,580,133,222},{320,554,132,225},{328,535,130,229},{335,521,129,233},{341,511,127,237},{348,504,124,242},{354,498,121,247},{359,493,118,252},{364,490,113,257},{369,487,107,263},{374,484,100,270},{378,482,90,276},{382,481,76,283},{386,479,57,291},{389,478,31,298},{392,477,0,306}},
{{306,0,140,223},{312,566,140,226},{319,535,139,229},{326,516,138,233},{333,504,136,236},{339,496,135,241},{345,490,133,245},{351,486,131,250},{356,482,129,255},{361,480,125,260},{366,478,121,266},{370,476,115,272},{375,475,107,278},{378,473,95,285},{382,472,76,292},{385,471,45,299},{388,471,0,306}},
{{306,0,146,226},{312,535,146,229},{318,504,146,232},{325,490,145,236},{331,482,144,240},{337,478,144,244},{343,475,143,248},{348,472,142,253},{353,471,140,258},{358,469,139,263},{363,468,136,268},{367,467,133,274},{371,467,129,280},{375,466,121,286},{379,465,107,293},{382,465,76,299},{385,465,0,306}},
{{306,459,153,229},{312,459,153,232},{318,459,153,235},{324,459,153,239},{329,459,153,243},{335,459,153,247},{340,459,153,251},{346,459,153,256},{351,459,153,260},{355,459,153,265},{360,459,153,271},{364,459,153,276},{368,459,153,282},{372,459,153,287},{376,459,153,293},{379,459,153,299},{382,459,0,306}}};

#endif
